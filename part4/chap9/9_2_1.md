# 9.2.1 **为什么要设计量潮应用系统（QtApp）？**

量潮科技的前身是成立于2016年2月本科生经济学课题组China's Prices Project，这个课题组立项的初衷是搭建中国电商价格高频数据库，用来制作线上价格指数等宏观经济指标和支持互联网平台领域的微观经济学研究。在实现这套系统的过程中，我们很快发现，我们需要的不是大部分经管学科研究做的简单的编程，而是需要一个中小科技公司级别的数据仓库，这个需求刺激了我们团队在钻研技术的道路上一去不复返，并且催生了今天的量潮科技。

这个数据仓库的目标是每天抓取天猫和京东的代表商品的价格数据，并且存储到数据库中进行管理和计算。我们对这个数据仓库的主要需求有以下几个方面：

1. 高稳定性。数据采集模块实际上需要一个高可用的分布式爬虫系统，而稳定性一直是一个比较大的难题。一部分原因是外部的，比如网站反爬不断增强、网页结构不断变化等等；另一方面是内部的，比如系统架构一直缺乏有效设计、系统可维护性很差、团队流动太快等等。实际上需要的是工业级的架构设计和工程规范，而不是简单地实现就可以。
2. 易用。由于早期采集设计的不好，而且缺乏硬件资源和处理大量数据的经验，实际上我们早期采集的数据几乎没有办法使用，或者经过了很长时间的初加工以后才能用。这让我们难以推进数据分析工作，大量的精力浪费在了反复调整原始数据的工作上。

为了解决这个问题，我们在2016、2017、2018、2019年分别设计了四套方案。前三套方案分别由我团队的三位技术负责人设计，都是基于Python的分布式架构，前两套是自己写的分布式，第三套用的Celery，稳定性和易用性一直都成问题，也实在难以维护。2019年至今，我在主导搭建QtApp系统时，把这个数据仓库作为一个子系统接入，在Web服务器框架的加持下，系统设计得以大大简化，稳定性也得以大大提升。目前数据仓库子系统还在研发中。

由于学院的老师经常找我们做和CPP类似的爬虫和清洗数据项目，我们也发现很多组件是可以复用的，比如反爬组件、数据存储组件等等，通过良好的抽象和对Python元类（Metaclass）的设计，可以让爬虫和清洗流程更加通用和标准。而这些组件完全可以来源于CPP的拓展。这也让我们意识到了为内部项目制造的轮子经过良好的抽象以后可以提供给外部项目使用，从此也奠定了我们的技术研发方向——先给自己用，好用的就开放出来卖。

发现我们周围的同学在科研和实习中有同样的需求，我们希望可以授人以渔，于是从16和17年开始我们就进行了Python编程和数据分析课程的尝试。我们尝试过几乎所有可行的方案，比如QQ群、第三方课程平台，等等；几乎注册过所有的课程平台账户，也做过小规模的尝试。几乎所有的平台都存在很多问题：基于群的平台，需要人工维护；基于视频的平台，缺乏社区氛围。而编程教育是需要完善的环境的：视频播放和直播，社区和社群，在线作业和批改，等等。市场上已经有了一些成功的案例，比如实验楼。在线教育市场发展很多年，始终不温不火，产品层面优化不够也是很重要的原因。再加上还有流量、抽成等营销和收入上的原因，使用第三方平台并不是一个在长期上很有利润的事情。因此我希望可以对课程平台有绝对的控制权，搭建自己的课程平台也成了必然的选择。

18年初我们组织过一个大型助研项目。在进行项目奖励设计的时候，我们本来计划给助研发放我们的课程作为奖励。受制于我们当时没有完善的系统来支持，这个原本作为关键设计的机制被搁浅，后来的激励方向也发生了比较大的偏移。这个助研项目被我的团队接手过来的时候，已经有了一个IT系统支持。我带领团队跟踪进度的时候，特意要求他们统计每个助研的工作量的变化，并且做成图表。我们还通过跟踪整体KPI来调整助研的招募工作和对助研的激励。这是我第一次感受到数据驱动的力量，尽管我们并没有用什么高深的数据模型，仅仅是做了一些基础的统计工作。这个项目让我意识到了自己搭建系统、打通内部系统之间的联系的重要性。从这开始，我下决心开始研究互联网平台的开发。

18年注册公司成立量潮科技以后，我们首先没有发展业务，而是选择了整合内部团队，规范流程，统一思路，等等。在这个过程中，我们也跟随着企业微信的上线，把工作平台从微信转移到了企业微信。在疫情之前的企业微信更新速度还比较慢，直至今天的企业微信的生态依然处在比较初期的阶段，我们发现我们的企业协作复杂程度越来越高，而通用的企业软件并不能满足我们对定制内部流程的需要。比如说，我们希望推行GTD+OKR的工作方法，现有的软件几乎没有对GTD有比较好的支持的；工程、商业和科研项目往往任务和任务之间依赖比较多，简单的列表无法满足可视化任务的需要；企业账户的管理和授权比较麻烦，等等。加上团队成员的流动，利用制度和人始终是不够稳定的，Google的用工具来规范流程的思路必须要被提上日程了。

除此之外我们还有很多流程需要进行规范和内外部打通。比如说为老师提供的数据服务，我们需要把内部进度和对教师及其团队的外部沟通打通，还需要提供更加规范的交付流程等等。这些都对自有系统提出了要求。再有，我们会希望可以比较快速的跟上我们的需求迭代产品，甚至推出一些必要的APP，因为我们的需求变化总体来说还比较快，经常一个新项目就需要做一个新系统，可复用、高稳定的需求可以说是不可缺少的一个环节。

以上这些都催生了这套系统的诞生。

